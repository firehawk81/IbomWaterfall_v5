"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7739],{49284:function(n,e,t){t.d(e,{L:function(){return p}});var i=t(13520),r=t(69457),o=t(3913),s=function(n){var e=(0,o.J)(n);return null==e?void 0:e.renderTypes.includes("icon")},a=t(92702),c=t(25777),u={xs:28,sm:48,md:56,lg:164},l=function(n){var e=n.fileExtension,t=n.size,i=void 0===t?"md":t,o=s(e)?e:"default",l=u[i],d=u[i];return(0,r.jsx)(c.kC,{align:"center",justify:"center",children:(0,r.jsx)(a.default,{alt:e,height:d,src:"/asset_icons/".concat(o,".svg"),unoptimized:!0,width:l})})},d=t(42078),f=t(58653),p=function(n){var e=n.size,t=n.src,o=(0,i._)((0,f.useState)(),2),s=o[0],a=o[1],c=null==t?void 0:t.split(".").pop();return(0,f.useEffect)(function(){a((0,r.jsx)(l,{fileExtension:c,size:e}))},[c,e,t]),(0,r.jsx)(d.M,{initial:!1,children:s})}},58448:function(n,e,t){t.d(e,{x:function(){return M}});var i=t(13520),r=t(69457),o=t(71633),s=t(25777),a=function(n){var e=n.asset,t=(0,o.R)(e.hex);return(0,r.jsxs)(s.kC,{align:"center",gapX:4,justify:"between",children:[e.name!==e.hex&&(0,r.jsx)(s.xv,{level:"S1",overflow:!1,variant:(0,o.R)(e.hex)?"primary":"light",weight:"semibold",whiteSpace:"nowrap",children:e.name}),(0,r.jsx)(s.xv,{level:"S1",overflow:!1,transform:"uppercase",variant:t?"primary":"light",weight:"semibold",children:e.hex})]})},c=t(88998),u=t(31394),l=function(n){var e=n.asset,t=n.details;return"none"===t?null:(0,r.jsxs)(s.kC,{align:"center",gapX:4,justify:"format"!==t?"between":"end",children:[["name","all"].includes(t)&&(0,r.jsx)(s.xv,{level:"S1",overflow:!1,variant:"primary",weight:"semibold",children:e.name||(0,u.fm)(e.sectionType)}),["format","all"].includes(t)&&(0,r.jsx)(s.xv,{level:"S1",variant:"primary",weight:"semibold",whiteSpace:"nowrap",children:(0,c.g)(e.formats)[0].format.toUpperCase()})]})},d=t(96151),f=function(n){var e,t=n.asset,i=n.details;return(0,r.jsxs)(s.kC,{align:"center",gapX:4,justify:"between",children:[(0,r.jsx)(s.xv,{level:"S1",overflow:!1,variant:"primary",weight:"semibold",children:(0,d.A)(t.name)}),"none"!==i&&(0,r.jsx)(s.xv,{level:"S1",variant:"primary",weight:"semibold",whiteSpace:"nowrap",children:"title"===(e=t.theme)?"Headline":"body"===e?"Body":""})]})},p=t(26722),h=p.ZP.div.withConfig({componentId:"sc-b428b007-0"})(["position:absolute;height:32px;width:100%;bottom:0;"]),v=t(58653),m=function(n){var e=n.asset,t=n.details,i=(0,v.useCallback)(function(){return"fonts"===e.assetType?(0,r.jsx)(f,{asset:e,details:t}):"colors"===e.assetType?(0,r.jsx)(a,{asset:e}):(0,r.jsx)(l,{asset:e,details:t})},[e,t]);return(0,r.jsx)(h,{children:(0,r.jsx)(s.xu,{paddingX:3,children:(0,r.jsx)(i,{})})})},g=t(25545),x=p.ZP.div.withConfig({componentId:"sc-1fb16615-0"})(["",""],function(n){var e=n.$hex;return(0,p.iv)(["border-radius:",";position:absolute;height:100%;width:100%;",";"],g.q0.lg,e&&(0,p.iv)(["background-color:",";"],e))}),b=function(n){var e=n.asset;return(0,r.jsx)(x,{$hex:e.hex})},_=p.ZP.div.withConfig({componentId:"sc-a4a7eb92-0"})(["justify-content:center;align-items:center;position:absolute;display:flex;height:100%;width:100%;bottom:0;right:0;left:0;top:0;"]),y=p.ZP.div.withConfig({componentId:"sc-a4a7eb92-1"})(["max-width:180px;max-height:76px;justify-content:center;align-items:center;position:relative;display:flex;height:100%;width:100%;"]),w=p.ZP.div.withConfig({componentId:"sc-a4a7eb92-2"})(["",""],function(n){var e=n.$height,t=n.$width;return(0,p.iv)(["max-height:","px;max-width:","px;position:relative;height:100%;width:100%;> img{-webkit-user-drag:none;object-fit:contain;user-select:none;margin:0 auto;}"],e,t)}),j=t(49284),C=t(44048),A=t(96007),k=t(92702),I=function(n){var e=n.asset,t=(0,C.D)().brand,i=e.assetType,o=e.formats,s=(0,c.g)(o)[0],a=s.src,u=s.format;return(0,A.D)(u)?(0,r.jsx)(_,{children:(0,r.jsx)(y,{children:(0,r.jsx)(w,{$height:64,$width:140,children:(0,r.jsx)(k.default,{alt:"".concat((null==t?void 0:t.name)||(null==t?void 0:t.mainAlias),"'s ").concat(i),fill:!0,src:a,style:{objectFit:"contain"},unoptimized:!0})})})}):(0,r.jsx)(j.L,{size:"md",src:a})},P=p.ZP.div.withConfig({componentId:"sc-90be5094-0"})(["",""],function(n){var e=n.$originId;return(0,p.iv)(["font-size:",";color:",";text-align:center;",""],g.JB["2xl"],g.$_.black300,e&&(0,p.iv)(["font-family:",";font-size:",";"],null==e?void 0:e.replace(/\+/g," "),g.JB["3xl"]))}),$=t(71617),Z=function(n){var e=n.asset,t=e.origin,i=e.originId;return(0,v.useEffect)(function(){"google"===t&&(0,$.h)([i])},[t,i]),(0,r.jsxs)(P,{$originId:i&&"google"===t?i:void 0,children:["google"===t&&"Aa Zz","custom"===t&&"Custom"]})},O=function(n){var e=n.asset;return"colors"===e.assetType?(0,r.jsx)(b,{asset:e}):"fonts"===e.assetType?(0,r.jsx)(Z,{asset:e}):(0,r.jsx)(I,{asset:e})},S=p.ZP.div.withConfig({componentId:"sc-472d5c64-0"})(["",""],function(n){var e=n.$checked,t=n.$disabled;return(0,p.iv)(["border:1px solid ",";border-radius:",";-webkit-user-drag:none;position:relative;user-select:none;cursor:pointer;height:100%;width:100%;&:hover > div:first-child{visibility:visible;opacity:1;}",";",";"],g.$_.white300,g.q0.lg,e&&(0,p.iv)(["box-shadow:0 0 0 2px rgba(255,255,255,1),0px 0px 0px 5px ",";"],g.$_.blue100),t&&(0,p.iv)(["cursor:not-allowed;"]))}),T=p.ZP.div.withConfig({componentId:"sc-472d5c64-1"})(["background-color:",";border-radius:",";justify-content:center;align-items:center;position:relative;aspect-ratio:1.38;overflow:hidden;display:flex;@media (max-width:511px){aspect-ratio:1.6;}&:hover > div{visibility:visible;opacity:1;}"],g.$_.white300,g.q0.lg),D=p.ZP.span.withConfig({componentId:"sc-f060c423-0"})(["position:absolute;left:",";top:",";"],g.Dh[3],g.Dh[3]),z=p.ZP.div.withConfig({componentId:"sc-f060c423-1"})(["",""],function(n){var e=n.$disabled;return(0,p.iv)(["position:absolute;z-index:-1;opacity:0;bottom:0;right:0;left:0;top:0;",""],e&&(0,p.iv)(["cursor:not-allowed;"]))}),N=p.ZP.div.withConfig({componentId:"sc-f060c423-2"})(["",""],function(n){var e=n.$checked;return(0,p.iv)(["transition:all 150ms ease;z-index:",";visibility:hidden;position:absolute;cursor:pointer;opacity:0;bottom:0;right:0;left:0;top:0;",""],g.Kz[1],e&&(0,p.iv)(["visibility:visible;opacity:1;"]))}),F=p.ZP.div.withConfig({componentId:"sc-f060c423-3"})(["position:absolute;right:",";top:",";"],g.Dh[3],g.Dh[3]),J=t(39518),L=function(n){var e=n.asset,t=n.checkboxHovered,o=n.controls,a=n.disabled,c=n.hasPopover,u=n.setCheckboxHover,l=n.setHasPopover,d=n.selectType,f=n.onClick,p=(0,J.a)(),h=p.addOrRemoveAsset,m=p.isAssetSelected,g=p.isSelectionActive,x=p.removeAssets,b=p.selectedAssets,_=(0,i._)((0,v.useState)(!1),2),y=_[0],w=_[1],j=m(e),C=function(){"none"===d||a||(h(e),"single"===d&&x(b))},A="multiple"===d||j||!g||t||y;return a?null:(0,r.jsxs)(N,{$checked:c||g,onClick:function(){if(l&&l(!1),a)return},onMouseEnter:function(){return w(!0)},onMouseLeave:function(){c||(l&&l(!1),w(!1))},children:[(0,r.jsx)(z,{$disabled:!!a,onClick:function(){if(f&&"none"===d||f&&!g){f();return}C()}}),"none"!==d&&(0,r.jsx)(D,{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},children:A&&(0,r.jsx)(s.XZ,{checked:j,disabled:a,name:"asset-checkbox",onChange:C,size:"md"})}),y&&!g&&(0,r.jsx)("div",{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},children:(0,r.jsx)(F,{children:o})})]})},M=function(n){var e=n.asset,t=n.onClick,o=n.children,s=n.disabled,a=n.hasPopover,c=n.selectType,u=n.details,l=n.setHasPopover,d=(0,J.a)().isAssetSelected,f=(0,i._)((0,v.useState)(!1),2),p=f[0],h=f[1],g=e.formats,x=!["colors","fonts"].includes(e.assetType),b=d(e);return(!x||(null==g?void 0:g.length))&&e?(0,r.jsxs)(S,{$checked:b,$disabled:s,children:[(0,r.jsx)(L,{asset:e,checkboxHovered:p,controls:o,disabled:s,hasPopover:a,selectType:c,setCheckboxHover:h,setHasPopover:l,onClick:t}),(0,r.jsx)(T,{children:(0,r.jsx)(O,{asset:e})}),(0,r.jsx)(m,{asset:e,details:u})]}):null}},25584:function(n,e,t){t.d(e,{d:function(){return c}});var i=t(69457),r=t(26722),o=t(25545),s={sm:"180px",md:"200px",lg:"220px"},a=r.ZP.div.withConfig({componentId:"sc-33414119-0"})(["",""],function(n){var e=n.$size;return(0,r.iv)(["grid-template-columns:repeat(auto-fill,minmax(",",1fr));grid-gap:",";display:grid;"],s[e],o.Dh[4])}),c=function(n){var e=n.children,t=n.size;return(0,i.jsx)(a,{$size:t,children:e})}},54632:function(n,e,t){t.d(e,{Z:function(){return g}});var i=t(92064),r=t(2712),o=t(95157),s=t(69457),a=t(26722),c=t(25545),u={primary:(0,a.iv)(["background-color:",";border-radius:",";box-shadow:",";padding:4px 6px;gap:4px;"],c.$_.white100,c.q0.full,c.AF.lg),secondary:(0,a.iv)(["background-color:",";border-radius:",";box-shadow:",";padding:",";gap:4px;"],c.$_.white100,c.q0.lg,c.AF.lg,c.Dh[1]),transparent:(0,a.iv)(["gap:8px;"])},l={primary:(0,a.iv)(["border-radius:",";height:24px;width:24px;"],c.q0.lg),secondary:(0,a.iv)(["border-radius:",";height:20px;width:20px;"],c.q0.md),transparent:(0,a.iv)(["border-radius:",";height:24px;width:24px;"],c.q0.lg)},d=a.ZP.div.withConfig({componentId:"sc-57308d09-0"})(["",""],function(n){var e=n.$variant;return(0,a.iv)([""," display:inline-flex;z-index:",";align-items:center;min-width:24px;cursor:default;> div{display:flex;}"],u[e],c.Kz[1])}),f=a.ZP.div.withConfig({componentId:"sc-57308d09-1"})(["",""],function(n){var e=n.$active,t=n.$disabled,i=n.$variant;return(0,a.iv)([""," justify-content:center;align-items:center;text-align:center;display:flex;"," ",""],l[i],t&&(0,a.iv)(["cursor:default;"]),!t&&(0,a.iv)(["cursor:pointer;&:hover{background-color:",";}",""],c.$_[e?"white300":"white200"],e&&(0,a.iv)(["background-color:",";"],c.$_.white300)))}),p=t(8665);t(58653);var h=t(25777),v={primary:"xs",secondary:"xs",transparent:"sm"},m=function(n){var e,t,i,r=n.active,o=n.control,a=n.variant,c=function(n){var e=n.disabled,t=n.loading,i=n.onClick,r=n.subItems;e||t||(null==r?void 0:r.length)||null==i||i()};return(0,s.jsx)(f,{$active:!!r,$disabled:!!o.disabled||!!o.loading,onClick:function(){return c(o)},$variant:a,children:(0,s.jsx)(h.JO,{color:o.color?(e=o.color,t=!!o.disabled,i=!!o.dangerous,t?"white500":i?"strawberry100":e||"black300"):void 0,icon:o.loading?p.AX7:o.icon,size:v[a],spin:o.loading})})},g=function(n){var e=n.controls,t=n.hasPopover,a=n.setHasPopover,c=n.variant,u=(0,o._)(n,["controls","hasPopover","setHasPopover","variant"]),l=null==e?void 0:e.filter(function(n){var e=n.visible;return e||void 0===e});return(null==l?void 0:l.length)?(0,s.jsx)(d,(0,r._)((0,i._)({},u),{$variant:c,children:l.map(function(n,e){var i,r=null===(i=n.subItems)||void 0===i?void 0:i.filter(Boolean);return(0,s.jsx)("div",{children:(0,s.jsx)(h.u,{hideTooltip:n.disabled||t,side:"bottom",sideOffset:8,trigger:(0,s.jsx)(s.Fragment,{children:(null==r?void 0:r.filter(Boolean).length)?(0,s.jsx)(h.J2,{align:"center",handleOpen:a,open:!!t,side:"bottom",trigger:(0,s.jsx)(m,{active:!!r&&t,control:n,variant:c}),width:180,children:(0,s.jsx)(h.a1,{items:r,padding:"sm"})}):(0,s.jsx)(m,{control:n,variant:c})}),children:(0,s.jsx)(h.k5,{size:"base",children:n.tooltip})})},e)})})):null}},26353:function(n,e,t){t.d(e,{f:function(){return s}});var i=t(69457),r=t(68790),o=t(93969),s=function(n){var e=n.maxLength,t=n.sectionName,s=n.theme,a=(0,(0,o.P)().getOperations)({element:"asset",stages:["creating"],data:{sectionName:t,theme:s}}),c=e&&e>=0?a.slice(0,e):a;return(0,i.jsx)(i.Fragment,{children:c.map(function(n){return(0,i.jsx)(r.m,{},n.id+n.element)})})}},42630:function(n,e,t){t.d(e,{s:function(){return h}});var i=t(29746),r=t(13520),o=t(41294),s=t(69457),a=t(8665),c=t(16890),u=t(1289),l=t(80153),d=t(58653),f=t(77455),p=t(25777),h=function(n){var e,t=n.asset,h=n.modalId,v=n.closeType,m=(0,u.o)(),g=m.isModalOpen,x=m.modals,b=m.removeModal,_=m.clearModals,y=(0,l.u)().deleteAssetChain,w=(0,c.L)().deleteAsset,j=(0,r._)((0,d.useState)(!1),2),C=j[0],A=j[1],k=(e=(0,i._)(function(){return(0,o.Jh)(this,function(n){switch(n.label){case 0:if(C||!t)return[2];return A(!0),"imminent"===v&&_(),[4,f.ZP.promise(w(t),{loading:"Deleting...",success:function(){return y(t.id),"Deleted 1 asset"},error:"Could not delete asset"})];case 1:return n.sent(),"wait"===v&&b(h),A(!1),[2]}})}),function(){return e.apply(this,arguments)}),I=function(){C||b(h)};return t?(0,s.jsx)(p.u_,{light:h!==(null==x?void 0:x[0]),onClose:function(){return I()},open:g(h),maxWidth:420,name:h,children:(0,s.jsx)(p.F0,{children:(0,s.jsxs)(p.xu,{paddingX:8,paddingY:7,children:[(0,s.jsx)(p.f4,{type:"error",icon:a.XAH}),(0,s.jsx)(p.LZ,{space:6}),(0,s.jsx)(p.Dx,{level:5,variant:"primary",children:"Delete asset?"}),(0,s.jsx)(p.LZ,{space:2}),(0,s.jsx)(p.xv,{level:"B3",variant:"primary",children:t.main?"This will remove it from your brand profile, and all associated third-party sites.":"Are you sure you want to delete this file from your brandspace?"}),(0,s.jsx)(p.LZ,{space:10}),(0,s.jsxs)(p.kC,{align:"center",justify:{base:"between",xs:"center"},gap:4,direction:{xs:"column"},children:[(0,s.jsx)(p.ee,{disabled:C,onClick:function(){return b(h)},size:"sm",variant:"primary",children:"Go back"}),(0,s.jsx)(p.zx,{loading:C,onClick:k,size:"xs",variant:"primary",width:{xs:"full"},children:"Delete"})]})]})})}):null}},68790:function(n,e,t){t.d(e,{m:function(){return u}});var i=t(69457),r=t(26722),o=t(25545),s=r.ZP.div.withConfig({componentId:"sc-db97b188-0"})(["border:1px solid ",";background-color:",";border-radius:",";justify-content:center;align-items:center;aspect-ratio:1.38;position:relative;overflow:hidden;display:flex;cursor:wait;"],o.$_.white300,o.$_.white200,o.q0.lg),a=t(8665),c=t(25777),u=function(){return(0,i.jsx)(s,{children:(0,i.jsx)(c.JO,{color:"white500",icon:a.AX7,size:"3xl",spin:!0})})}},49410:function(n,e,t){t.d(e,{D:function(){return C}});var i,r=t(29746),o=t(41294),s=t(69457),a=t(44048),c=t(93969),u=t(33692),l=t(38964),d=t(40158),f=t(91707),p=t(51458),h=t(98285),v=t(28310),m=t(92064),g=t(3913),x=t(65479),b=(i=(0,r._)(function(n,e,t){var i,r,s,a,c;return(0,o.Jh)(this,function(o){switch(o.label){case 0:return i=(0,g.J)(e.extension),[4,(0,x._7)(n,{extension:e.extension,filename:e.filename},(0,m._)({},t))];case 1:if(r=o.sent(),s=(null==i?void 0:i.mimeType)||e.fileType,a={uploadUrl:r.uploadUrl,updated:r.updated,blob:e.blob,mimeType:s},c={collectionId:t.collectionId,brandId:t.brandId,assetId:r.assetId,formatId:r.formatId},r)return[2,(0,x.Bo)(n,a,c)];return[2]}})}),function(n,e,t){return i.apply(this,arguments)}),_=t(46409),y=t(77455),w=d.kS,j=function(n){var e,t,i=(0,c.P)(),s=i.createOperation,m=i.deleteOperation,g=i.getOperationById,x=(0,u.M)().createAssetChain,j=(0,f.a)().idToken,C=(0,a.D)().brand,A=(0,_.useRouter)(),k=(e=n.sectionType)?["logo","symbol"].includes(e)?Array.from(["jpeg","jpg","png","svg","webp"]):["banner","icon"].includes(e)?Array.from(["jpeg","jpg","png","webp"]):[]:Array.from(d.Qe),I="upload-".concat((0,l.Mc)()),P=(t=(0,r._)(function(e){var t,i,r,a,c,u,l,d,f;return(0,o.Jh)(this,function(_){switch(_.label){case 0:if(!C)return[2,[]];_.label=1;case 1:if(_.trys.push([1,10,,11]),!(0,h.x)(e,w))return[2,[]];e.forEach(function(t){s({id:(0,v.Q)(t,e,I),element:"asset",stage:"creating",data:{collectionId:n.collectionId,sectionName:n.sectionName,sectionType:n.sectionType,assetType:n.assetType,theme:n.theme}})}),t=[],i=!0,r=!1,a=void 0,_.label=2;case 2:_.trys.push([2,7,8,9]),c=function(){var i,r,s,a,c;return(0,o.Jh)(this,function(o){switch(o.label){case 0:i=l.value,o.label=1;case 1:if(o.trys.push([1,3,4,5]),r=e.findIndex(function(n){return n===i}),s=i.name.split(".").pop(),y.ZP.loading((0,p.h)(e,r),{id:I,duration:1/0}),!k.includes(s))throw Error('File type "'.concat(s,'" not allowed'));return[4,b(j,{extension:s,filename:i.name,fileType:i.type,blob:i},{brandId:C.id,assetType:n.assetType,collectionId:n.collectionId,sectionName:n.sectionName})];case 2:if(!(a=o.sent()))throw Error("Could not upload ".concat(i.name));return t.push(a),x(a),[3,5];case 3:return o.sent(),y.ZP.error("Could not upload ".concat(i.name)),[3,5];case 4:return(null==(c=g((0,v.Q)(i,e,I)))?void 0:c.operationId)&&m(null==c?void 0:c.operationId),[7];case 5:return[2]}})},u=e[Symbol.iterator](),_.label=3;case 3:if(i=(l=u.next()).done)return[3,6];return[5,(0,o.XA)(c())];case 4:_.sent(),_.label=5;case 5:return i=!0,[3,3];case 6:return[3,9];case 7:return d=_.sent(),r=!0,a=d,[3,9];case 8:try{i||null==u.return||u.return()}finally{if(r)throw a}return[7];case 9:if(!t.length)return y.ZP.error("Your files could not be uploaded",{id:I,duration:void 0}),[2,[]];if(t.length!==e.length)f="".concat(t.length," of ").concat(e.length),y.ZP.success("Some files could not be uploaded (".concat(f,")"),{id:I,duration:void 0});else{if(I)return y.ZP.dismiss(I),[2,t];y.ZP.success("All files uploaded",{id:I,duration:void 0})}return[2,t];case 10:return _.sent(),y.ZP.error("Something went wrong. Please try again."),A.refresh(),[2,[]];case 11:return[2]}})}),function(n){return t.apply(this,arguments)});return{allowedExtensions:k,multiple:w>1,handleUpload:P}},C=(0,t(58653).forwardRef)(function(n,e){var t,i=n.data,a=n.disabled,c=n.handleAfterUpload,u=n.handleBeforeUpload,l=j(i),d=l.allowedExtensions,f=l.handleUpload,p=l.multiple,h=(t=(0,r._)(function(n){var t,i;return(0,o.Jh)(this,function(r){switch(r.label){case 0:return t=n.target.files,null==u||u(),[4,f(Array.from(t||[]))];case 1:return i=r.sent(),null==c||c(i),e.current&&(e.current.value=""),[2]}})}),function(n){return t.apply(this,arguments)});return(0,s.jsx)("input",{accept:d.map(function(n){return".".concat(n)}).join(","),disabled:a,multiple:p,onChange:h,hidden:!0,type:"file",ref:e})});C.displayName="AssetUploader"},84041:function(n,e,t){t.d(e,{$8:function(){return f},Be:function(){return r},Fh:function(){return o},MA:function(){return i},Si:function(){return v},WZ:function(){return u},bX:function(){return l},fj:function(){return h},gH:function(){return d},kb:function(){return p},l6:function(){return c},lP:function(){return a},md:function(){return m},r6:function(){return g},yJ:function(){return s}});var i=300,r=40,o=["logos","colors","fonts","images"],s=["svg","png","jpeg","jpg","webp"],a=["logo","symbol","icon"],c="default",u="Brand",l="all",d=3,f="industry",p="region",h=4,v="Saving...",m=/^#[0-9A-Fa-f]{6}$/,g=/^[\w\-\s]+$/},16890:function(n,e,t){t.d(e,{L:function(){return A}});var i=t(29746),r=t(92064),o=t(2712),s=t(13520),a=t(41294),c=t(1289),u=t(93969),l=t(80153),d=t(83253),f=t(39518),p=t(12339),h=t(91707),v=t(65479),m=t(95578),g=t(10603),x=t(72715),b=t(88998),_=t(49507),y=t(21337),w=t(46409),j=t(58653),C=t(77455),A=function(){var n=(0,u.P)(),e=n.createOperation,t=n.deleteOperation,A=(0,d.p)().updateAssetChain,k=(0,l.u)().deleteAssetChain,I=(0,f.a)().clearSelectedAssets,P=(0,c.o)(),$=P.setModal,Z=P.openSidebar,O=(0,h.a)().idToken,S=(0,w.useRouter)(),T=(0,s._)((0,_.KO)(m._),2),D=T[0],z=T[1],N=(0,y.lV)((0,j.useCallback)(function(n,o){var s,c,u,l,d=function(e){var t,i=(0,b.g)(null==e?void 0:e.formats),r=null==e?void 0:null===(t=e.formats)||void 0===t?void 0:t.find(function(e){var t;return e.format===(null===(t=n(x.m))||void 0===t?void 0:t.format)});o(m._,e),o(x.m,r||i[0]),o(x.l,i)},f=function(){o(x.l,[]),o(x.m,null),o(m._,null)},h=(s=(0,i._)(function(i,r,o){var s,c,u,l;return(0,a.Jh)(this,function(a){switch(a.label){case 0:if(!(s=n(g.A)))return[2];c=e({element:"asset",stage:"creating",data:{sectionName:r.sectionName,assetType:r.assetType,collectionId:i,theme:o}}).operationId,a.label=1;case 1:return a.trys.push([1,4,5,6]),[4,(0,v.MQ)(O,s.id,i,r)];case 2:return u=a.sent().id,[4,(0,v.XI)(O,s.id,i,u)];case 3:return d(l=a.sent()),[2,l];case 4:return a.sent(),C.ZP.error("Failed to create asset"),S.refresh(),[3,6];case 5:return t(c),[7];case 6:return[2]}})}),function(n,e,t){return s.apply(this,arguments)}),_=(c=(0,i._)(function(e){var t,i,r;return(0,a.Jh)(this,function(o){switch(o.label){case 0:if(t=e.collectionId,i=e.id,!(r=n(g.A)))return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),k(i),f(),[4,(0,v.zu)(O,r.id,t,i)];case 2:return o.sent(),[3,4];case 3:return o.sent(),S.refresh(),C.ZP.error("Failed to delete asset"),[3,4];case 4:return[2]}})}),function(n){return c.apply(this,arguments)}),y=(u=(0,i._)(function(e,t,i){var o,s,c;return(0,a.Jh)(this,function(a){switch(a.label){case 0:if(o=n(g.A),s=n(m._),!o||!s)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),A(c=(0,r._)({},s,i)),d(c),[4,(0,v.iR)(O,o.id,e,t,i)];case 2:return a.sent(),[3,4];case 3:return a.sent(),C.ZP.error("Failed to update asset"),s&&(A(s),d(s)),[3,4];case 4:return[2]}})}),function(n,e,t){return u.apply(this,arguments)});return{setCurrentAssetAndFormats:d,clearCurrentAssetAndFormats:f,handleDeleteAssets:(l=(0,i._)(function(n){var e;return(0,a.Jh)(this,function(t){switch(t.label){case 0:var r;return r=(0,i._)(function(){return(0,a.Jh)(this,function(e){switch(e.label){case 0:var t;return[4,Promise.all(n.map((t=(0,i._)(function(n){return(0,a.Jh)(this,function(e){switch(e.label){case 0:return[4,_(n)];case 1:return e.sent(),[2]}})}),function(n){return t.apply(this,arguments)})))];case 1:return e.sent(),[2]}})}),e=function(){return r.apply(this,arguments)},I(),[4,C.ZP.promise(e(),{loading:"Deleting...",success:"Deleted ".concat(n.length," assets"),error:"Could not delete assets"})];case 1:return t.sent(),[2]}})}),function(n){return l.apply(this,arguments)}),handleAddAsset:function(n){if("colors"===n){$(p.BS),Z("edit");return}if("fonts"===n){$(p.wP),Z("edit");return}},createAsset:h,deleteAsset:_,updateAsset:y}},[O,S,e,t,A,k,I,$,Z]));return(0,o._)((0,r._)({},N()),{setCurrentAsset:z,currentAsset:D})}},93969:function(n,e,t){t.d(e,{P:function(){return f}});var i=t(92064),r=t(2712),o=t(13520),s=t(42640),a=t(38964),c=(0,t(45853).cn)([]),u=t(49507),l=t(21337),d=t(58653),f=function(){var n=(0,o._)((0,u.KO)(c),1)[0],e=(0,l.lV)((0,d.useCallback)(function(n,e){var t=n(c),o=function(n){var e=n.data,i=n.element,r=n.id,o=n.operationId,s=n.stages,a=void 0===s?[]:s,c=function(n){var t;return!e||(t=n.data,Object.keys(e).every(function(n){return n in t&&e[n]===t[n]}))};return t.filter(function(n){return(!r||n.id===r)&&(!o||n.operationId===o)&&(!i||n.element===i)&&(!a.length||(null==a?void 0:a.includes(n.stage)))&&c(n)})},u=function(n){return o(n).length>0};return{createOperation:function(n){var o=(0,r._)((0,i._)({},n),{operationId:(0,a.Mc)()});return e(c,(0,s._)(t).concat([o])),o},deleteOperation:function(n){e(c,t.filter(function(e){return e.operationId!==n}))},getOperationById:function(n){return t.find(function(e){return e.id===n})},getOperations:o,getOperationsLength:u,isAssetDownloading:function(n){return o({stages:["downloading"]}).map(function(n){return n.data.assets}).flat().some(function(e){return e.id===n})},isDownloading:function(){return u({stages:["downloading"]})}}},[]));return{operations:n,createOperation:(0,d.useCallback)(function(n){return e().createOperation(n)},[e]),deleteOperation:(0,d.useCallback)(function(n){e().deleteOperation(n)},[e]),getOperationById:(0,d.useCallback)(function(n){return e().getOperationById(n)},[e]),getOperations:(0,d.useCallback)(function(n){return e().getOperations(n)},[e]),getOperationsLength:(0,d.useCallback)(function(n){return e().getOperationsLength(n)},[e]),isAssetDownloading:(0,d.useCallback)(function(n){return e().isAssetDownloading(n)},[e]),isDownloading:(0,d.useCallback)(function(){return e().isDownloading()},[e])}}},33692:function(n,e,t){t.d(e,{M:function(){return p}});var i=t(92064),r=t(2712),o=t(42640),s=t(95578),a=t(10603),c=t(37942),u=t(72715),l=t(15594),d=t(21337),f=t(58653),p=function(){var n=(0,d.lV)((0,f.useCallback)(function(n,e){return{createAssetChain:function(n){var t=n.collectionId,d=n.sectionName;e(a.A,function(e){return e?(0,r._)((0,i._)({},e),{collections:e.collections.map(function(e){return e.id===t?(0,r._)((0,i._)({},e),{sections:e.sections.map(function(e){return e.sectionName===d?(0,r._)((0,i._)({},e),{assets:(0,o._)(e.assets).concat([n])}):e})}):e})}):e}),e(c.L,function(e){return(null==e?void 0:e.id)!==t?e:(0,r._)((0,i._)({},e),{sections:e.sections.map(function(e){return e.sectionName===d?(0,r._)((0,i._)({},e),{assets:(0,o._)(e.assets).concat([n])}):e})})}),e(l.F,function(e){return(null==e?void 0:e.sectionName)!==d?e:(0,r._)((0,i._)({},e),{assets:(0,o._)(e.assets).concat([n])})}),e(s._,null),e(u.l,[]),e(u.m,null)},createFormatChain:function(t){var d=n(s._);if(d){var f=d.collectionId,p=d.sectionName,h=function(n){return n.id!==d.id?n:(0,r._)((0,i._)({},n),{formats:(0,o._)(n.formats||[]).concat([t])})};e(a.A,function(n){return n?(0,r._)((0,i._)({},n),{collections:n.collections.map(function(n){return n.id===f?(0,r._)((0,i._)({},n),{sections:n.sections.map(function(n){return n.sectionName===p?(0,r._)((0,i._)({},n),{assets:n.assets.map(h)}):n})}):n})}):n}),e(c.L,function(n){return(null==n?void 0:n.id)!==f?n:(0,r._)((0,i._)({},n),{sections:n.sections.map(function(n){return n.sectionName===p?(0,r._)((0,i._)({},n),{assets:n.assets.map(h)}):n})})}),e(l.F,function(n){return(null==n?void 0:n.sectionName)!==p?n:(0,r._)((0,i._)({},n),{assets:n.assets.map(h)})}),e(s._,function(n){return n?h(n):n}),e(u.l,function(n){return(0,o._)(n).concat([t])}),n(u.m)||e(u.m,t)}},createCollectionChain:function(n){e(a.A,function(e){return e?(0,r._)((0,i._)({},e),{collections:(0,o._)(e.collections).concat([n])}):e}),e(c.L,n)},createSectionChain:function(n,t,s){e(a.A,function(e){return e?(0,r._)((0,i._)({},e),{collections:e.collections.map(function(e){return e.id===n?(0,r._)((0,i._)({},e),{sections:(0,o._)(e.sections||[]).concat([t]),sectionsDefinitions:(0,o._)(e.sectionsDefinitions||[]).concat([s])}):e})}):e}),e(c.L,function(e){return(null==e?void 0:e.id)!==n?e:(0,r._)((0,i._)({},e),{sections:(0,o._)(e.sections||[]).concat([t]),sectionsDefinitions:(0,o._)(e.sectionsDefinitions||[]).concat([s])})}),e(l.F,t)}}},[]));return(0,i._)({},n())}},80153:function(n,e,t){t.d(e,{u:function(){return f}});var i=t(92064),r=t(2712),o=t(95578),s=t(10603),a=t(37942),c=t(72715),u=t(15594),l=t(21337),d=t(58653),f=function(){return(0,l.lV)((0,d.useCallback)(function(n,e){var t=function(n){e(c.m,null),e(c.l,[]);var t=function(e){return e.filter(function(e){return!n.includes(e.id)})};e(o._,function(e){return e&&n.includes(e.id)?null:e}),e(u.F,function(n){return n?(0,r._)((0,i._)({},n),{assets:t(n.assets)}):n}),e(a.L,function(n){return n?(0,r._)((0,i._)({},n),{sections:n.sections.map(function(n){return(0,r._)((0,i._)({},n),{assets:t(n.assets)})})}):n}),e(s.A,function(n){return n?(0,r._)((0,i._)({},n),{collections:n.collections.map(function(n){return(0,r._)((0,i._)({},n),{sections:n.sections.map(function(n){return(0,r._)((0,i._)({},n),{assets:t(n.assets)})})})})}):n})};return{deleteFormatChain:function(n){e(c.l,function(e){return e.filter(function(e){return e.id!==n})}),e(c.m,function(e){return(null==e?void 0:e.id)===n?null:e});var t=function(e){var t;return(0,r._)((0,i._)({},e),{formats:(null===(t=e.formats)||void 0===t?void 0:t.filter(function(e){return e.id!==n}))||[]})};e(o._,function(n){return n?t(n):n}),e(u.F,function(n){return n?(0,r._)((0,i._)({},n),{assets:n.assets.map(t)}):n}),e(a.L,function(n){return n?(0,r._)((0,i._)({},n),{sections:n.sections.map(function(n){return(0,r._)((0,i._)({},n),{assets:n.assets.map(t)})})}):n}),e(s.A,function(n){return n?(0,r._)((0,i._)({},n),{collections:n.collections.map(function(n){return(0,r._)((0,i._)({},n),{sections:n.sections.map(function(n){return(0,r._)((0,i._)({},n),{assets:n.assets.map(t)})})})})}):n})},deleteAssetsChain:t,deleteAssetChain:function(n){t([n])},deleteSectionChain:function(n){e(c.m,null),e(c.l,[]),e(o._,null),e(u.F,null),e(a.L,function(e){return e?(0,r._)((0,i._)({},e),{sections:e.sections.filter(function(e){return e.sectionName!==n})}):e}),e(s.A,function(e){return e?(0,r._)((0,i._)({},e),{collections:e.collections.map(function(e){return(0,r._)((0,i._)({},e),{sections:e.sections.filter(function(e){return e.sectionName!==n})})})}):e})},deleteCollectionChain:function(n){e(c.m,null),e(c.l,[]),e(o._,null),e(u.F,null),e(a.L,null),e(s.A,function(e){return e?(0,r._)((0,i._)({},e),{collections:e.collections.filter(function(e){return e.id!==n})}):e})}}},[]))()}},39518:function(n,e,t){t.d(e,{a:function(){return l}});var i=t(92064),r=t(2712),o=t(42640),s=(0,t(45853).cn)([]),a=t(49507),c=t(21337),u=t(58653),l=function(){var n=(0,a.Dv)(s),e=(0,c.lV)((0,u.useCallback)(function(n,e){return{addOrRemoveAsset:function(t){var i=n(s),r=i.findIndex(function(n){return n.id===t.id});-1===r?e(s,(0,o._)(i).concat([t])):e(s,i.filter(function(n,e){return e!==r}))},addAssets:function(t){var i=n(s),r=t.filter(function(n){return!i.some(function(e){return e.id===n.id})});e(s,(0,o._)(i).concat((0,o._)(r)))},removeAssets:function(t){var i=n(s),r=new Set(t.map(function(n){return n.id}));e(s,i.filter(function(n){return!r.has(n.id)}))},clearSelectedAssets:function(){e(s,[])}}},[])),t=(0,u.useCallback)(function(e,t,i){return 0!==n.length&&n.filter(function(n){return n.collectionId===e&&n.sectionName===t}).length===i.length},[n]),l=(0,u.useMemo)(function(){return n.length>0},[n]),d=(0,u.useCallback)(function(e){return n.some(function(n){return n.id===e.id})},[n]);return(0,r._)((0,i._)({},e()),{areAllAssetsSelected:t,isSelectionActive:l,isAssetSelected:d,selectedAssets:n})}},71633:function(n,e,t){t.d(e,{R:function(){return o}});var i=t(69239),r=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!/^#([0-9a-f]{3}){1,2}$/i.test(n)};function o(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!r(n))return!0;var e=(0,i.y)(n),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return(299*parseInt(t[1],16)+587*parseInt(t[2],16)+114*parseInt(t[3],16))/1e3>190}},66270:function(n,e,t){t.d(e,{H:function(){return r}});var i=t(31394),r=function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return t.reduce(function(n,e){return"string"==typeof e||"number"==typeof e?n+(0,i.fm)(e.toString()):n},n)}},61725:function(n,e,t){t.d(e,{Y:function(){return i}});var i=function(n,e){var t;return e&&(null==n?void 0:null===(t=n.collections)||void 0===t?void 0:t.find(function(n){return n.id===e}))||null}},3913:function(n,e,t){t.d(e,{J:function(){return r}});var i=t(40158),r=function(n){return i.vH.find(function(e){return e.extensions.includes(n)})}},41771:function(n,e,t){t.d(e,{o:function(){return i}});var i=function(n,e){return(null==n?void 0:n.sections.find(function(n){return n.sectionName===e}))||null}},69239:function(n,e,t){t.d(e,{y:function(){return i}});var i=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return 4===n.length?n.split("").map(function(n){return"#"===n?n:n+n}).join(""):n}},96151:function(n,e,t){t.d(e,{A:function(){return i}});var i=function(n){return n?n=(n=n.replace(/([a-z])([A-Z])/g,"$1 $2")).replace(/([A-Z])([A-Z][a-z])/g,"$1 $2"):""}},96007:function(n,e,t){t.d(e,{D:function(){return r}});var i=t(3913),r=function(n){var e;return null===(e=(0,i.J)(n))||void 0===e?void 0:e.renderTypes.includes("image")}},71617:function(n,e,t){t.d(e,{h:function(){return i}});var i=function(n){var e,i=n.filter(Boolean);(null==i?void 0:i.length)&&(null===(e=t(32437))||void 0===e||e.load({google:{families:i}}))}},1063:function(n,e,t){t.d(e,{p:function(){return i}});var i=function(n,e,t){return t.slice().sort(function(t,i){var r=n.indexOf(t[e]),o=n.indexOf(i[e]);return -1===r&&-1===o?0:-1===r?1:-1===o?-1:r-o})}},88998:function(n,e,t){t.d(e,{g:function(){return o}});var i=t(42640),r=t(84041),o=function(n){return(null==n?void 0:n.length)?(0,i._)(n).sort(function(n,e){var t=r.yJ.indexOf(n.format),i=r.yJ.indexOf(e.format);return -1===t&&-1===i?0:-1===t?1:-1===i?-1:t-i}):[]}},51458:function(n,e,t){t.d(e,{h:function(){return i}});var i=function(n,e){var t="Uploading ".concat(n[e].name);return 1===n.length?t:"".concat(t," (").concat(e+1," of ").concat(n.length,")")}},98285:function(n,e,t){t.d(e,{x:function(){return o}});var i=t(40158),r=t(77455),o=function(n,e){return n.length?n.length>e?(r.ZP.error("Too many files, max number of files is ".concat(e)),!1):!n.some(function(n){return n.size>1024e3*i.GN})||(r.ZP.error("File size is too large"),!1):(r.ZP.error("No files selected"),!1)}},28310:function(n,e,t){t.d(e,{Q:function(){return i}});var i=function(n,e,t){var i=e.findIndex(function(e){return e===n});return"".concat(t,"-").concat(i)}}}]);