"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7958],{47958:function(t,n,e){e.d(n,{rI:function(){return L},r$:function(){return A},Az:function(){return z},j7:function(){return T},Cl:function(){return E},vL:function(){return S},Ck:function(){return B},ws:function(){return P},Xx:function(){return U},oC:function(){return V}});var r,s,a,c,u,i,o,h,f,p,l,d,w=e(29746),b=e(41294),v=e(6047),y=e(38926),_=e(17240),m=e.n(_),g=e(82488),I=e(87102),J=e(33290),k="https://api.brandfetch.io/v2",C=(r=(0,w._)(function(t){return(0,b.Jh)(this,function(n){return[2,{headers:{"Client-Id":(0,J.i)(),"Content-Type":"application/json",Authorization:"Bearer ".concat(t),Accept:"application/json"}}]})}),function(t){return r.apply(this,arguments)}),E=(s=(0,w._)(function(t,n){var e,r;return(0,b.Jh)(this,function(s){switch(s.label){case 0:e=t.brandId,r=t.email,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,m().post("/api/magic-link",{email:r,brandId:e})];case 2:return s.sent(),window.localStorage.setItem("emailForSignIn",r),n&&window.localStorage.setItem("returnUrl",n),[3,4];case 3:throw s.sent();case 4:return[2]}})}),function(t,n){return s.apply(this,arguments)}),T=(a=(0,w._)(function(){return(0,b.Jh)(this,function(t){switch(t.label){case 0:return[4,(0,g.w7)((0,v.y)())];case 1:return t.sent(),[4,fetch("/api/logout",{method:"GET"})];case 2:return t.sent(),window.location.reload(),[2]}})}),function(){return a.apply(this,arguments)}),A=(c=(0,w._)(function(t,n,e){var r;return(0,b.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),[4,V(t)];case 1:return[4,C(s.sent())];case 2:return r=s.sent(),[4,m().post("".concat(k,"/users/").concat(e,"?workspace=1&segment=platform"),{email:n},r)];case 3:return[2,s.sent().data];case 4:throw s.sent();case 5:return[2]}})}),function(t,n,e){return c.apply(this,arguments)}),B=(u=(0,w._)(function(t,n,e){var r;return(0,b.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),[4,V(t)];case 1:return[4,C(s.sent())];case 2:return r=s.sent(),[4,m().patch("".concat(k,"/users/").concat(n),e,r)];case 3:return[2,s.sent().data];case 4:throw s.sent();case 5:return[2]}})}),function(t,n,e){return u.apply(this,arguments)}),z=(i=(0,w._)(function(t,n){var e,r,s;return(0,b.Jh)(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),[4,V(t)];case 1:return e=a.sent(),r="".concat(k,"/users/").concat(n,"/invitations"),[4,C(e)];case 2:return s=a.sent(),[4,m().get(r,s)];case 3:return[2,a.sent().data];case 4:throw a.sent();case 5:return[2]}})}),function(t,n){return i.apply(this,arguments)}),L=(o=(0,w._)(function(t,n,e){var r,s,a;return(0,b.Jh)(this,function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),[4,V(t)];case 1:return r=c.sent(),s="".concat(k,"/users/").concat(n,"/invitations/").concat(e,"/accept"),[4,C(r)];case 2:return a=c.sent(),[4,m().post(s,{},a)];case 3:return[2,c.sent().status];case 4:throw c.sent();case 5:return[2]}})}),function(t,n,e){return o.apply(this,arguments)}),N=(h=(0,w._)(function(t,n){var e,r;return(0,b.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),[4,V(t)];case 1:return[4,C(s.sent())];case 2:return e=s.sent(),r="".concat(k,"/users/").concat(n),[4,m().get(r,e)];case 3:return[2,s.sent().data];case 4:return s.sent(),[2,null];case 5:return[2]}})}),function(t,n){return h.apply(this,arguments)});function U(t,n){return j.apply(this,arguments)}function j(){return(j=(0,w._)(function(t,n){var e,r,s,a,c=arguments;return(0,b.Jh)(this,function(u){switch(u.label){case 0:if(e=c.length>2&&void 0!==c[2]?c[2]:0,r=c.length>3&&void 0!==c[3]?c[3]:1500,s=c.length>4&&void 0!==c[4]?c[4]:10,e>s)return[2,null];return[4,N(t,n)];case 1:if(a=u.sent())return[2,a];return[4,new Promise(function(t){return setTimeout(t,r)})];case 2:return u.sent(),[2,U(t,n,e+1,2*r,s)]}})})).apply(this,arguments)}var S=(f=(0,w._)(function(t,n){var e,r;return(0,b.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,V(t)];case 1:return e=s.sent(),r={headers:{Authorization:"Bearer ".concat(e)}},[4,m().post("/api/complete-onboarding",n,r)];case 2:return[2,s.sent().status];case 3:throw s.sent();case 4:return[2]}})}),function(t,n){return f.apply(this,arguments)}),K=(p=(0,w._)(function(t,n){var e;return(0,b.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e="".concat(y.K,"/api/brand-exists?alias=").concat(t,"&?crawler=").concat(n),[4,m().get(e)];case 1:if(204===r.sent().status)return[2,!0];return[2,!1];case 2:return r.sent(),[2,!1];case 3:return[2]}})}),function(t,n){return p.apply(this,arguments)}),P=(l=(0,w._)(function(t,n,e,r){return(0,b.Jh)(this,function(s){switch(s.label){case 0:return[4,K(t,0===n)];case 1:var a;if(s.sent())return[2,!0];if(n>=e)return[2,!1];return[4,(a=r*Math.pow(2,n),new Promise(function(t){return setTimeout(t,a)}))];case 2:return s.sent(),[2,P(t,n+1,e,r)]}})}),function(t,n,e,r){return l.apply(this,arguments)}),V=(d=(0,w._)(function(t){return(0,b.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,I.BN)({serverIdToken:t,refreshTokenUrl:"/api/refresh-token"})];case 1:return[2,n.sent()||""];case 2:return n.sent(),[2,""];case 3:return[2]}})}),function(t){return d.apply(this,arguments)})},6047:function(t,n,e){e.d(n,{y:function(){return c}});var r={apiKey:"AIzaSyCjV6O4A-XuZpT9zOBtkVJqKe2eDwaq4Ek",authDomain:"brandfetch-40353.firebaseapp.com",databaseURL:"https://brandfetch-40353.firebaseio.com",projectId:"brandfetch-40353",messagingSenderId:"936093386968",appId:"1:936093386968:web:0ea374642c434858e7afad"},s=e(43424),a=e(82488);function c(){var t=(0,a.v0)((0,s.C6)().length?(0,s.Mq)():(0,s.ZF)(r));return(0,a.Fb)(t,a.BV),t}},38926:function(t,n,e){e.d(n,{K:function(){return c}});var r=e(42088),s="brandfetch-ap96z4v13-brandfetch-pro.vercel.app",a="https://brandfetch.com";if(!a&&!s)throw Error("NEXT_PUBLIC_DOMAIN or NEXT_PUBLIC_VERCEL_URL must be set");var c=a||(0,r.E)(s)},42088:function(t,n,e){e.d(n,{E:function(){return r}});var r=function(t){return t?/^https?:\/\//i.test(t)?t:"https://".concat(t):""}}}]);